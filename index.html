<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Stickman Dress-Up</title>
  <link rel="stylesheet" href="style.css">
  <script type="text/javascript" src="javascript/api.js"></script>
</head>

<body>
  <!-- NEW free-drag layer -->
  <div id="drag-layer"></div>

  <div id="left-column">
    <img src="images/eyes_01.png" class="draggable"/>
    <img src="images/eyes_03.png" class="draggable"/>
    <img src="images/roundface.png" class="draggable"/>
    <img src="images/catface.png" class="draggable"/>
    <img src="images/redhat.png" class="draggable"/>
    <img src="images/hat_02.png" class="draggable"/>
    <img src="images/glasses_01.png" class="draggable"/>
    <img src="images/glasses_03.png" class="draggable"/>
    <img src="images/mansuite.jpg" class="draggable"/>
    <img src="images/shirt_01.png" class="draggable"/>
    <img src="images/shirt_02.png" class="draggable"/>
    <img src="images/shirt_03.png" class="draggable"/>
    <img src="images/shirt_04.png" class="draggable"/>
    <img src="images/shirt_05.png" class="draggable"/>
    <img src="images/pants_01.png" class="draggable"/>
    <img src="images/pants_02.png" class="draggable"/>
    <img src="images/pants_03.png" class="draggable"/>
    <img src="images/pants_04.png" class="draggable"/>
    <img src="images/pants_05.png" class="draggable"/>
    <img src="images/shoe_01_L.png" class="draggable"/>
    <img src="images/shoe_01_R.png" class="draggable"/>
    <img src="images/shoe_02_L.png" class="draggable"/>
    <img src="images/shoe_02_R.png" class="draggable"/>
  </div>

  <div id="right-column">
    <img src="images/stickman.png" id="stickman">
    <img src="images/logo.png" id="logo">
  </div>

  <!-- ---------------- DRAG SCRIPT ---------------- -->
  <script>
    const draggables = document.querySelectorAll('.draggable');
    const dragLayer = document.getElementById('drag-layer');

    draggables.forEach(img => {
      img.addEventListener('mousedown', e => {
        e.preventDefault();

        // Move to drag layer so images can move freely
        dragLayer.appendChild(img);
        img.style.position = 'absolute';
        img.style.zIndex = 1000;

        // Calculate offset so image follows cursor correctly
        const rect = img.getBoundingClientRect();
        const offsetX = e.clientX - rect.left;
        const offsetY = e.clientY - rect.top;

        function moveAt(e) {
          img.style.left = e.clientX - offsetX + 'px';
          img.style.top = e.clientY - offsetY + 'px';
        }

        moveAt(e);

        function onMouseMove(e) { moveAt(e); }
        document.addEventListener('mousemove', onMouseMove);

        img.onmouseup = function() {
          document.removeEventListener('mousemove', onMouseMove);
          img.onmouseup = null;
        };
      });
    });
  </script>
</body>
</html>

 
